# Coding Structure (essentials)

Keep it simple, explicit, and testable.

## Principles

- Single responsibility per module.
- Depend on abstractions, not implementations.
- Prefer explicit configs and types over magic.

## Apply it here

- `api/v1/chat.py`: orchestrates requests; no RAG logic.
- `core/query_engine.py`: LlamaIndex integration behind a small interface.
- `core/config.py`: environment and settings only.

## Examples

```python
# Good: explicit types and return values
def answer(question: str, history: list[str]) -> tuple[str, float]:
    ...

# Avoid: implicit, hard to test
def answer(*args):
    ...
```

## Configuration

- Put values in `.env`, not code.
- Keep prompts or long text outside Python where possible.

## Testing checklist

- Small, pure functions where you can.
- Use dependency injection for I/O and clients.
- Handle edge cases first with clear errors.
